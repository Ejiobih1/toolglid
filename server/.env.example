# ============================================
# PDF Tools App - Backend Environment Variables
# ============================================
# Copy this file to .env and update with your values
# Command: cp .env.example .env (or copy manually)

# ============================================
# REQUIRED - Server Configuration
# ============================================
# Port for backend server (default: 5000)
PORT=5000

# Node environment: "development" or "production"
NODE_ENV=development

# ============================================
# REQUIRED - Database Configuration
# ============================================
# Option 1: Use Supabase (Cloud PostgreSQL) - RECOMMENDED
# Get your connection string from: https://app.supabase.com/project/_/settings/database
# Format: postgresql://USER:PASSWORD@HOST:5432/postgres
DATABASE_URL=postgresql://postgres.YOUR_PROJECT:YOUR_PASSWORD@aws-0-region.pooler.supabase.com:5432/postgres

# Option 2: Use Local PostgreSQL (Comment out DATABASE_URL if using this)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=pdf_tools_db
# DB_USER=postgres
# DB_PASSWORD=your_database_password

# ============================================
# REQUIRED - Security & Authentication
# ============================================
# JWT Secret - Generate a strong random string (64+ characters)
# Production: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_12345

# Admin Password Hash - Generate with: node changeAdminPassword.js YOUR_PASSWORD
ADMIN_PASSWORD_HASH=$2b$10$your_hashed_admin_password

# ============================================
# REQUIRED - Stripe Payment Integration
# ============================================
# Get API keys from: https://dashboard.stripe.com/apikeys
# Test mode keys (for development):
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Production keys (replace test keys when going live):
# STRIPE_SECRET_KEY=sk_live_your_live_secret_key
# STRIPE_PUBLISHABLE_KEY=pk_live_your_live_publishable_key

# Stripe Webhook Secret - Get from: https://dashboard.stripe.com/webhooks
# Only needed after deployment to public URL
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price ID (optional, can use PREMIUM_MONTHLY_PRICE instead)
PREMIUM_PRICE_ID=price_your_stripe_price_id

# Premium subscription price (monthly, in dollars)
PREMIUM_MONTHLY_PRICE=4.99

# ============================================
# REQUIRED - Frontend Configuration
# ============================================
# Frontend URL (where your React app is hosted)
# Development: http://localhost:3000
# Production: https://your-domain.com
FRONTEND_URL=http://localhost:3000

# ============================================
# OPTIONAL - Rate Limiting
# ============================================
# Maximum requests per window (default: 100)
RATE_LIMIT_MAX=100

# Rate limit window in minutes (default: 15)
RATE_LIMIT_WINDOW_MINUTES=15

# ============================================
# OPTIONAL - Email Configuration (Future Feature)
# ============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_email_password

# ============================================
# SETUP INSTRUCTIONS
# ============================================
#
# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Set up Supabase (Recommended):
#    - Sign up at https://supabase.com
#    - Create new project
#    - Go to Settings > Database
#    - Copy "Connection Pooling" connection string
#    - Paste as DATABASE_URL above
#
# 3. Initialize database:
#    node database/initDatabase.js
#
# 4. Get Stripe API keys:
#    - Sign up at https://stripe.com
#    - Go to Developers > API Keys
#    - Copy test keys for development
#
# 5. Generate JWT secret (Production):
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# 6. Change admin password (Production):
#    node changeAdminPassword.js YOUR_NEW_PASSWORD
#
# 7. Verify production setup:
#    node verifyProduction.js
#
# ============================================
# PRODUCTION CHECKLIST
# ============================================
# Before deploying to production:
# [ ] Change NODE_ENV to "production"
# [ ] Generate new strong JWT_SECRET
# [ ] Change admin password
# [ ] Switch to Stripe live keys
# [ ] Update FRONTEND_URL to production domain (HTTPS)
# [ ] Set up Stripe webhook with production URL
# [ ] Run: node verifyProduction.js
#
# ============================================
# SECURITY NOTES
# ============================================
# - NEVER commit .env file to git (it's in .gitignore)
# - Use strong, unique secrets for production
# - Keep Stripe live keys secure
# - Use HTTPS for production FRONTEND_URL
# - Regularly rotate JWT_SECRET
# - Use environment variables in your hosting platform
